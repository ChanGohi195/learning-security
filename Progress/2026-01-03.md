---
date: 2026-01-03
phase: 2
topic: Web Security
tags: [security, web, owasp, learning]
---

# 2026-01-03: Web Security Basics

## 学習トピック

### 1. SQLインジェクション
- ユーザー入力がSQLコードとして実行される
- 対策: パラメータ化クエリ（データとコードの構造的分離）

### 2. XSS（Cross-Site Scripting）
- ユーザー入力がブラウザでJavaScriptとして実行される
- 対策: 出力時のコンテキスト別エスケープ
- 入力時は検証、出力時はエスケープ

### 3. IDOR（Insecure Direct Object Reference）
- 認証と認可の違い
  - 認証: あなたは誰か
  - 認可: あなたは何ができるか
- URLのIDを変えるだけで他人のデータにアクセス
- 対策: リソースの所有者確認

### 4. CSRF（Cross-Site Request Forgery）
- 被害者のブラウザを経由した不正リクエスト
- ブラウザがCookieを自動送信する仕様を悪用
- 対策: CSRFトークンで「自サイト発か」を確認

### 5. SSRF（Server-Side Request Forgery）
- サーバーを踏み台にして内部ネットワークにアクセス
- 169.254.169.254（クラウドメタデータ）への攻撃
- Capital One事件（2019年、1億人分の情報漏洩）
- 対策: URL検証、内部IPのブロック、許可リスト

## 核心原理

**すべての脆弱性は「分離の欠如」に起因する**

| 脆弱性 | 分離すべきもの |
|--------|--------------|
| SQLi | コード / データ |
| XSS | コード / データ |
| IDOR | ユーザー / 権限 |
| CSRF | 認証 / 操作の正当性 |
| SSRF | 外部リソース / 内部リソース |

## Phase 1との接続

- Phase 1: 構造で分離（passwd/shadow、ハイブリッド暗号）
- Phase 2: 信頼境界で分離（データ/コード、ユーザー/権限）

セキュリティの本質は「混ぜてはいけないものを構造的に分ける」こと。

## 次のステップ

- OWASP Top 10の残り項目
- 実践演習（PortSwigger Web Security Academy等）

# 2026-01-02 学習ログ

## 今日やったこと

- 暗号基礎（Phase 1）
  - 暗号の目的と基本概念
  - 古典暗号（シーザー暗号、ヴィジュネル暗号）
  - ワンタイムパッド（OTP）
  - 対称鍵暗号 vs 非対称鍵暗号
  - RSA暗号と一方向関数
  - ハイブリッド暗号

## 学んだこと

### 1. 暗号の目的

**通信内容を通信当事者以外から守る**
```
平文 → 暗号化 → 暗号文 → 復号 → 平文
```

### 2. 古典暗号と弱点

**シーザー暗号（換字式）**
- 文字を一定数ずらす（A→D、B→E、...）
- 弱点: 頻度分析（Eが最も多い等）で解読可能

**ヴィジュネル暗号**
- 位置によって変換を変える
- 弱点: 鍵の繰り返しでパターンが見える

**共通の課題**: パターンが見えると破られる

### 3. ワンタイムパッド（OTP）

**理論上解読不可能**
- 鍵を平文と同じ長さにする
- 数学的に証明済み（完全秘匿性）

**問題**: 鍵配送問題
- どうやって鍵を安全に渡すか？
- 鍵を渡すときに盗聴されたら意味がない

### 4. 対称鍵暗号 vs 非対称鍵暗号

| 方式 | 鍵の種類 | 利点 | 課題 |
|------|---------|------|------|
| 対称鍵 | 同じ鍵で暗号化・復号 | 速い | 鍵配送問題 |
| 非対称鍵 | 公開鍵と秘密鍵のペア | 鍵配送問題を解決 | 遅い |

**非対称鍵暗号の仕組み**
- 公開鍵: 誰でも知っていい（暗号化に使う）
- 秘密鍵: 自分だけが持つ（復号に使う）
- 鍵配送問題を解決: 公開鍵は盗聴されてもOK

### 5. RSA暗号と一方向関数

**一方向関数の原理**
```
素数 × 素数 → 積: 簡単（一瞬）
積 → 素因数分解: 極めて困難（数千年）
```

**計算量の非対称性がセキュリティになる**
- 正規ユーザー: 鍵を持っている → 一瞬で復号
- 攻撃者: 鍵がない → 素因数分解 → 数千年

**重要**: 数学的に不可能ではなく、計算量的に不可能

### 6. ハイブリッド暗号

**実用的な解決策（HTTPS等で使用）**

| フェーズ | 暗号方式 | 理由 |
|---------|---------|------|
| 鍵の交換 | 非対称鍵暗号 | 安全に鍵を渡す |
| データ本体 | 対称鍵暗号 | 高速に暗号化 |

**設計思想**: 各暗号方式の利点を組み合わせる

## ユーザーの良い発想（記録）

| 場面 | ユーザーの発想 | 評価 |
|------|---------------|------|
| 最も単純な暗号 | 文字が他の文字に変換されるルールを共有する | 換字式暗号の概念を独力で導出 |
| シーザー暗号の弱点 | 頻度の多い文字に目星をつける | 頻度分析を独力で発見 |
| 頻度分析への対策 | ダミーレターを注入しその位置を共有する | ノイズ注入による撹乱の発想 |
| 繰り返しパターン対策 | 暗号を生み出す暗号のパターンを共有する | メタ暗号・疑似乱数生成の発想 |
| 鍵配送問題の解決 | 受け手と送り手で違う鍵を用いる | 非対称鍵暗号の核心を独力で導出 |
| 非対称鍵の実現方法 | 素数の特定 | RSAの原理を正確に推測 |
| ハイブリッド暗号 | データの構造ごとに振り分ける | 鍵とデータを分けて扱う発想 |
| 全体の本質 | 重い処理を関門として利用する | 計算量的セキュリティの本質を理解 |

## 核心的理解

### 「計算量の非対称性がセキュリティになる」

**セキュリティの本質**
- 数学的不可能性ではない
- 計算量的不可能性（現実的な時間では解けない）
- 正規ユーザーと攻撃者の計算コストに圧倒的な差を作る

**応用範囲**
- RSA暗号: 素因数分解
- 昨日のSYN Cookie: 秘密鍵による検証
- 共通原理: 正規ユーザーは簡単、攻撃者は困難

## 詰まったこと

特になし。対話を通じて各概念を独力で導出できた。

### 理解が深まった点

1. **非対称鍵暗号の必然性**
   - 鍵配送問題という根本的な課題を理解
   - 「受け手と送り手で違う鍵を用いる」という発想を独力で導出

2. **計算量的セキュリティ**
   - 「重い処理を関門として利用する」という本質を理解
   - 昨日のネットワークセキュリティ（SYN Cookie）との共通原理を発見

3. **ハイブリッド暗号の設計思想**
   - 各暗号方式の利点を組み合わせる発想
   - 実用的なトレードオフの理解

## 明日やること

### 暗号基礎の続き

1. **ハッシュ（元に戻せない暗号）**
   - 一方向性ハッシュ関数
   - 完全性検証
   - パスワード保存

2. **PKI（公開鍵が本物か確認する仕組み）**
   - 証明書
   - 認証局（CA）
   - 信頼の連鎖

### その後の選択肢

- Linux セキュリティへ進む
- または OWASP Top 10（Phase 2）へ

## 理解度（自己評価）

- [x] 攻撃を説明できる（頻度分析、鍵配送問題）
- [x] 防御を説明できる（OTP、非対称鍵、ハイブリッド暗号）
- [ ] 実践できる（実装はこれから）

## 関連リソース

- [[Concepts/]] - 暗号方式の詳細を追加予定
- [[Practice/]] - RSA実装、ハッシュ検証等の実践記録を追加予定
- [[Progress/2026-01-01]] - SYN Cookieの秘密鍵検証（計算量的セキュリティの応用例）

---

#security #cryptography #phase1 #rsa #hybrid-encryption

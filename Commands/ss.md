---
command: ss
category: network
tags: [linux, security, network, port]
---

# ss

ネットワーク接続・リスニングポートを表示。netstatの後継。

## 基本

```bash
$ ss -tlnp        # TCP、リスニング、数値表示、プロセス表示
$ ss -ulnp        # UDP版
$ ss -tunlp       # TCP+UDP
$ ss -a           # 全接続
```

## オプション

| オプション | 意味 |
|-----------|------|
| -t | TCP |
| -u | UDP |
| -l | リスニング（待ち受け）のみ |
| -n | 数値表示（名前解決しない） |
| -p | プロセス表示 |
| -a | 全接続 |

## 出力例

```
State   Local Address:Port    Peer Address:Port   Process
LISTEN  0.0.0.0:22             0.0.0.0:*          sshd
LISTEN  127.0.0.1:5432         0.0.0.0:*          postgres
LISTEN  0.0.0.0:80             0.0.0.0:*          nginx
```

## セキュリティ観点

### アドレスの意味

| Local Address | 意味 | リスク |
|--------------|------|--------|
| 0.0.0.0:22 | 全インターフェースで待ち受け | 外部からアクセス可能 |
| 127.0.0.1:5432 | ローカルのみ | 外部からアクセス不可 |
| 192.168.1.10:80 | 特定IPのみ | そのネットワークからのみ |

### 確認すべきこと

```bash
$ ss -tlnp | grep -v "127.0.0.1"
# 外部公開されているポートを確認
```

- 意図しないポートが開いていないか
- 不要なサービスが動いていないか
- DBが外部公開されていないか（5432, 3306等）

## 関連コマンド

- [[netstat]] - 旧コマンド（同等機能）
- [[lsof]] - ポートを使っているプロセスを特定
- [[ps]] - プロセス詳細
